generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("MONGO_URL")
}

model country {
  id      String          @id @default(auto()) @map("_id") @db.ObjectId
  name    String          @unique
  cities  city[]
  regions countryRegion[]
}

model countryRegion {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  country   country? @relation(fields: [countryId], references: [id])
  countryId String?  @db.ObjectId
  cities    city[]
}

model city {
  id              String         @id @default(auto()) @map("_id") @db.ObjectId
  name            String         @unique
  Country         country?       @relation(fields: [countryId], references: [id])
  countryId       String?        @db.ObjectId
  cityType        cityType?
  countryRegion   countryRegion? @relation(fields: [countryRegionId], references: [id])
  countryRegionId String?        @db.ObjectId
}

type translate {
  ru String?
  en String?
}

enum cityType {
  city
  selo
  vilage
}
